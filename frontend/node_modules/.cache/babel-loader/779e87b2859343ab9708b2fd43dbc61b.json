{"ast":null,"code":"class Api {\n  constructor({\n    address,\n    token,\n    groupId\n  }) {\n    this._token = token;\n    this._groupId = groupId;\n    this._address = address;\n  }\n\n  getResponse(res) {\n    return res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`);\n  }\n\n  getUserInfo() {\n    return fetch(`${this._address}/${this._groupId}/users/me`, {\n      headers: {\n        authorization: this._token\n      }\n    }).then(this.getResponse);\n  }\n\n  setUserInfo({\n    name,\n    about\n  }) {\n    return fetch(`${this._address}/${this._groupId}/users/me`, {\n      method: 'PATCH',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name,\n        about\n      })\n    }).then(this.getResponse);\n  }\n\n  setUserAvatar({\n    avatar\n  }) {\n    return fetch(`${this._address}/${this._groupId}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        avatar\n      })\n    }).then(this._getResponse);\n  }\n\n  getCards() {\n    return fetch(`${this._address}/${this._groupId}/cards`, {\n      headers: {\n        authorization: this._token\n      }\n    }).then(this.getResponse);\n  }\n\n  addCard({\n    name,\n    link\n  }) {\n    return fetch(`${this._address}/${this._groupId}/cards`, {\n      method: 'POST',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name,\n        link\n      })\n    }).then(this.getResponse);\n  }\n\n  removeCard(cardId) {\n    return fetch(`${this._address}/${this._groupId}/cards/${cardId}`, {\n      method: 'DELETE',\n      headers: {\n        authorization: this._token\n      }\n    }).then(this.getResponse);\n  }\n\n  toggleLike(cardID, like) {\n    return fetch(`${this._address}/${this._groupId}/cards/likes/${cardID}`, {\n      method: like ? 'PUT' : 'DELETE',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      }\n    }).then(this.getResponse);\n  }\n\n}\n\nconst api = new Api({\n  address: \"https://mesto.nomoreparties.co/v1\",\n  groupId: `cohort-16`,\n  token: `6b84de2d-b5c7-4b45-ba81-be44fff680e4`\n});\nexport default api;","map":{"version":3,"sources":["/home/bogdan/Рабочий стол/dev/react-mesto-auth/src/utils/api.js"],"names":["Api","constructor","address","token","groupId","_token","_groupId","_address","getResponse","res","ok","json","Promise","reject","status","getUserInfo","fetch","headers","authorization","then","setUserInfo","name","about","method","body","JSON","stringify","setUserAvatar","avatar","_getResponse","getCards","addCard","link","removeCard","cardId","toggleLike","cardID","like","api"],"mappings":"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","sourcesContent":["class Api {\n    constructor({address, token, groupId}) {\n        this._token = token;\n        this._groupId = groupId;\n        this._address = address;\n    }\n\n    getResponse(res) {\n        return res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`)\n    }\n\n    getUserInfo() {\n        return fetch(`${this._address}/${this._groupId}/users/me`, {\n            headers: {\n                authorization: this._token\n            }\n        })\n            .then(this.getResponse)\n    }\n\n    setUserInfo({name, about}) {\n        return fetch(`${this._address}/${this._groupId}/users/me`, {\n            method: 'PATCH',\n            headers: {\n                authorization: this._token,\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                name,\n                about\n            })\n        })\n            .then(this.getResponse)\n    }\n\n    setUserAvatar({avatar}) {\n        return fetch(`${this._address}/${this._groupId}/users/me/avatar`, {\n            method: 'PATCH',\n            headers: {\n                authorization: this._token,\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n                avatar,\n            }),\n        })\n            .then(this._getResponse)\n    }\n\n    getCards() {\n        return fetch(`${this._address}/${this._groupId}/cards`, {\n            headers: {\n                authorization: this._token\n            }\n        })\n            .then(this.getResponse)\n    }\n\n    addCard({name, link}) {\n        return fetch(`${this._address}/${this._groupId}/cards`, {\n            method: 'POST',\n            headers: {\n                authorization: this._token,\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                name,\n                link,\n            })\n        })\n            .then(this.getResponse)\n    }\n\n    removeCard(cardId) {\n        return fetch(`${this._address}/${this._groupId}/cards/${cardId}`, {\n            method: 'DELETE',\n            headers: {\n                authorization: this._token,\n            }\n        })\n            .then(this.getResponse)\n    }\n\n    toggleLike(cardID, like) {\n        return fetch(`${this._address}/${this._groupId}/cards/likes/${cardID}`, {\n            method: like ? 'PUT' : 'DELETE',\n            headers: {\n                authorization: this._token,\n                'Content-Type': 'application/json'\n            }\n        })\n            .then(this.getResponse)\n    }\n}\n\nconst api = new Api({\n    address: \"https://mesto.nomoreparties.co/v1\",\n    groupId: `cohort-16`,\n    token: `6b84de2d-b5c7-4b45-ba81-be44fff680e4`,\n});\n\nexport default api;\n\n"]},"metadata":{},"sourceType":"module"}