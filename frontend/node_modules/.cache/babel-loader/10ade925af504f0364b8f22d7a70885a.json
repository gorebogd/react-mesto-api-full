{"ast":null,"code":"import _classCallCheck from\"/home/bogdan/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/dev/mesto-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/bogdan/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/dev/mesto-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";var Api=/*#__PURE__*/function(){function Api(_ref){var address=_ref.address,token=_ref.token,groupId=_ref.groupId;_classCallCheck(this,Api);this._token=token;this._groupId=groupId;this._address=address;}_createClass(Api,[{key:\"getResponse\",value:function getResponse(res){return res.ok?res.json():Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));}},{key:\"getUserInfo\",value:function getUserInfo(){return fetch(\"\".concat(this._address,\"/\").concat(this._groupId,\"/users/me\"),{headers:{authorization:this._token}}).then(this.getResponse);}},{key:\"setUserInfo\",value:function setUserInfo(_ref2){var name=_ref2.name,about=_ref2.about;return fetch(\"\".concat(this._address,\"/\").concat(this._groupId,\"/users/me\"),{method:'PATCH',headers:{authorization:this._token,'Content-Type':'application/json'},body:JSON.stringify({name:name,about:about})}).then(this.getResponse);}},{key:\"setUserAvatar\",value:function setUserAvatar(_ref3){var avatar=_ref3.avatar;return fetch(\"\".concat(this._address,\"/\").concat(this._groupId,\"/users/me/avatar\"),{method:'PATCH',headers:{authorization:this._token,'Content-Type':'application/json'},body:JSON.stringify({avatar:avatar})}).then(this._getResponse);}},{key:\"getCards\",value:function getCards(){return fetch(\"\".concat(this._address,\"/\").concat(this._groupId,\"/cards\"),{headers:{authorization:this._token}}).then(this.getResponse);}},{key:\"addCard\",value:function addCard(_ref4){var name=_ref4.name,link=_ref4.link;return fetch(\"\".concat(this._address,\"/\").concat(this._groupId,\"/cards\"),{method:'POST',headers:{authorization:this._token,'Content-Type':'application/json'},body:JSON.stringify({name:name,link:link})}).then(this.getResponse);}},{key:\"removeCard\",value:function removeCard(cardId){return fetch(\"\".concat(this._address,\"/\").concat(this._groupId,\"/cards/\").concat(cardId),{method:'DELETE',headers:{authorization:this._token}}).then(this.getResponse);}},{key:\"toggleLike\",value:function toggleLike(cardID,like){return fetch(\"\".concat(this._address,\"/\").concat(this._groupId,\"/cards/likes/\").concat(cardID),{method:like?'PUT':'DELETE',headers:{authorization:this._token,'Content-Type':'application/json'}}).then(this.getResponse);}}]);return Api;}();var api=new Api({address:\"https://mesto.nomoreparties.co/v1\",groupId:\"cohort-16\",token:\"6b84de2d-b5c7-4b45-ba81-be44fff680e4\"});export default api;","map":{"version":3,"sources":["/home/bogdan/Рабочий стол/dev/mesto-react/src/utils/api.js"],"names":["Api","address","token","groupId","_token","_groupId","_address","res","ok","json","Promise","reject","status","fetch","headers","authorization","then","getResponse","name","about","method","body","JSON","stringify","avatar","_getResponse","link","cardId","cardID","like","api"],"mappings":"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","sourcesContent":["class Api {\n    constructor({address, token, groupId}) {\n        this._token = token;\n        this._groupId = groupId;\n        this._address = address;\n    }\n\n    getResponse(res) {\n        return res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`)\n    }\n\n    getUserInfo() {\n        return fetch(`${this._address}/${this._groupId}/users/me`, {\n            headers: {\n                authorization: this._token\n            }\n        })\n            .then(this.getResponse)\n    }\n\n    setUserInfo({name, about}) {\n        return fetch(`${this._address}/${this._groupId}/users/me`, {\n            method: 'PATCH',\n            headers: {\n                authorization: this._token,\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                name,\n                about\n            })\n        })\n            .then(this.getResponse)\n    }\n\n    setUserAvatar({avatar}) {\n        return fetch(`${this._address}/${this._groupId}/users/me/avatar`, {\n            method: 'PATCH',\n            headers: {\n                authorization: this._token,\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n                avatar,\n            }),\n        })\n            .then(this._getResponse)\n    }\n\n    getCards() {\n        return fetch(`${this._address}/${this._groupId}/cards`, {\n            headers: {\n                authorization: this._token\n            }\n        })\n            .then(this.getResponse)\n    }\n\n    addCard({name, link}) {\n        return fetch(`${this._address}/${this._groupId}/cards`, {\n            method: 'POST',\n            headers: {\n                authorization: this._token,\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                name,\n                link,\n            })\n        })\n            .then(this.getResponse)\n    }\n\n    removeCard(cardId) {\n        return fetch(`${this._address}/${this._groupId}/cards/${cardId}`, {\n            method: 'DELETE',\n            headers: {\n                authorization: this._token,\n            }\n        })\n            .then(this.getResponse)\n    }\n\n    toggleLike(cardID, like) {\n        return fetch(`${this._address}/${this._groupId}/cards/likes/${cardID}`, {\n            method: like ? 'PUT' : 'DELETE',\n            headers: {\n                authorization: this._token,\n                'Content-Type': 'application/json'\n            }\n        })\n            .then(this.getResponse)\n    }\n}\n\nconst api = new Api({\n    address: \"https://mesto.nomoreparties.co/v1\",\n    groupId: `cohort-16`,\n    token: `6b84de2d-b5c7-4b45-ba81-be44fff680e4`,\n});\n\nexport default api;\n\n"]},"metadata":{},"sourceType":"module"}