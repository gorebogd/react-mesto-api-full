{"ast":null,"code":"import _slicedToArray from\"/home/bogdan/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/dev/mesto-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useEffect,useState}from'react';import PopupWithForm from'./PopupWithForm';import{CurrentUserContext}from'../contexts/CurrentUserContext';function EditProfilePopup(props){var currentUser=React.useContext(CurrentUserContext);var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),description=_useState4[0],setDescription=_useState4[1];function handleNameChange(event){setName(event.target.value);}function handleDescriptionChange(event){setDescription(event.target.value);}function handleSubmit(event){event.preventDefault();props.onUpdateUser({name:name,about:description});}useEffect(function(){setName(currentUser.name);setDescription(currentUser.about);},[currentUser.about,currentUser.name,props.isOpen]);return/*#__PURE__*/_jsx(PopupWithForm,{isOpen:props.isOpen,onClose:props.onClose,name:\"edit-profile\",title:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{name:\"name\",type:\"text\",placeholder:\"\\u0418\\u043C\\u044F\",className:\"popup__input-text popup__input-text_type_name\",minLength:\"2\",maxLength:\"40\",autoComplete:\"off\",required:true,value:name||'',onChange:handleNameChange}),/*#__PURE__*/_jsx(\"span\",{id:\"name-error\",className:\"popup__error\"}),/*#__PURE__*/_jsx(\"input\",{name:\"job\",type:\"text\",placeholder:\"\\u041F\\u0440\\u043E\\u0444\\u0435\\u0441\\u0441\\u0438\\u044F\",className:\"popup__input-text popup__input-text_type_job\",minLength:\"2\",maxLength:\"200\",autoComplete:\"off\",required:true,value:description||'',onChange:handleDescriptionChange}),/*#__PURE__*/_jsx(\"span\",{id:\"job-error\",className:\"popup__error\"})]})});}export default EditProfilePopup;","map":{"version":3,"sources":["/home/bogdan/Рабочий стол/dev/mesto-react/src/components/EditProfilePopup.js"],"names":["React","useEffect","useState","PopupWithForm","CurrentUserContext","EditProfilePopup","props","currentUser","useContext","name","setName","description","setDescription","handleNameChange","event","target","value","handleDescriptionChange","handleSubmit","preventDefault","onUpdateUser","about","isOpen","onClose"],"mappings":"oWAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,CAA0BC,QAA1B,KAAyC,OAAzC,CACA,MAAOC,CAAAA,aAAP,KAA0B,iBAA1B,CACA,OAAQC,kBAAR,KAAiC,gCAAjC,CAEA,QAASC,CAAAA,gBAAT,CAA0BC,KAA1B,CAAiC,CAE7B,GAAMC,CAAAA,WAAW,CAAGP,KAAK,CAACQ,UAAN,CAAiBJ,kBAAjB,CAApB,CAF6B,cAGLF,QAAQ,CAAC,EAAD,CAHH,wCAGtBO,IAHsB,eAGhBC,OAHgB,8BAISR,QAAQ,CAAC,EAAD,CAJjB,yCAItBS,WAJsB,eAITC,cAJS,eAM7B,QAASC,CAAAA,gBAAT,CAA0BC,KAA1B,CAAiC,CAC7BJ,OAAO,CAACI,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAP,CACH,CAED,QAASC,CAAAA,uBAAT,CAAiCH,KAAjC,CAAwC,CACpCF,cAAc,CAACE,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAd,CACH,CAED,QAASE,CAAAA,YAAT,CAAsBJ,KAAtB,CAA6B,CACzBA,KAAK,CAACK,cAAN,GACAb,KAAK,CAACc,YAAN,CAAmB,CACfX,IAAI,CAAJA,IADe,CAEfY,KAAK,CAAEV,WAFQ,CAAnB,EAIH,CAEDV,SAAS,CAAC,UAAM,CACZS,OAAO,CAACH,WAAW,CAACE,IAAb,CAAP,CACAG,cAAc,CAACL,WAAW,CAACc,KAAb,CAAd,CACH,CAHQ,CAGN,CAACd,WAAW,CAACc,KAAb,CAAoBd,WAAW,CAACE,IAAhC,CAAsCH,KAAK,CAACgB,MAA5C,CAHM,CAAT,CAKA,mBACI,KAAC,aAAD,EACI,MAAM,CAAEhB,KAAK,CAACgB,MADlB,CAEI,OAAO,CAAEhB,KAAK,CAACiB,OAFnB,CAGI,IAAI,CAAC,cAHT,CAII,KAAK,CAAC,2HAJV,CAKI,QAAQ,CAAEL,YALd,CAMI,QAAQ,cACJ,wCACI,cACI,IAAI,CAAC,MADT,CAEI,IAAI,CAAC,MAFT,CAGI,WAAW,CAAC,oBAHhB,CAII,SAAS,CAAC,+CAJd,CAKI,SAAS,CAAC,GALd,CAMI,SAAS,CAAC,IANd,CAOI,YAAY,CAAC,KAPjB,CAQI,QAAQ,KARZ,CASI,KAAK,CAAET,IAAI,EAAI,EATnB,CAUI,QAAQ,CAAEI,gBAVd,EADJ,cAaI,aAAM,EAAE,CAAC,YAAT,CAAsB,SAAS,CAAC,cAAhC,EAbJ,cAcI,cACI,IAAI,CAAC,KADT,CAEI,IAAI,CAAC,MAFT,CAGI,WAAW,CAAC,wDAHhB,CAII,SAAS,CAAC,8CAJd,CAKI,SAAS,CAAC,GALd,CAMI,SAAS,CAAC,KANd,CAOI,YAAY,CAAC,KAPjB,CAQI,QAAQ,KARZ,CASI,KAAK,CAAEF,WAAW,EAAI,EAT1B,CAUI,QAAQ,CAAEM,uBAVd,EAdJ,cA0BI,aAAM,EAAE,CAAC,WAAT,CAAqB,SAAS,CAAC,cAA/B,EA1BJ,GAPR,EADJ,CAuCH,CAED,cAAeZ,CAAAA,gBAAf","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\n\nfunction EditProfilePopup(props) {\n\n    const currentUser = React.useContext(CurrentUserContext);\n    const [name, setName] = useState('');\n    const [description, setDescription] = useState('');\n\n    function handleNameChange(event) {\n        setName(event.target.value)\n    }\n\n    function handleDescriptionChange(event) {\n        setDescription(event.target.value)\n    }\n\n    function handleSubmit(event) {\n        event.preventDefault();\n        props.onUpdateUser({\n            name,\n            about: description,\n        });\n    }\n\n    useEffect(() => {\n        setName(currentUser.name);\n        setDescription(currentUser.about);\n    }, [currentUser.about, currentUser.name, props.isOpen]);\n\n    return (\n        <PopupWithForm\n            isOpen={props.isOpen}\n            onClose={props.onClose}\n            name='edit-profile'\n            title='Редактировать профиль'\n            onSubmit={handleSubmit}\n            children={\n                <>\n                    <input\n                        name=\"name\"\n                        type=\"text\"\n                        placeholder=\"Имя\"\n                        className=\"popup__input-text popup__input-text_type_name\"\n                        minLength=\"2\"\n                        maxLength=\"40\"\n                        autoComplete=\"off\"\n                        required\n                        value={name || ''}\n                        onChange={handleNameChange}\n                    />\n                    <span id=\"name-error\" className='popup__error'></span>\n                    <input\n                        name=\"job\"\n                        type=\"text\"\n                        placeholder=\"Профессия\"\n                        className=\"popup__input-text popup__input-text_type_job\"\n                        minLength=\"2\"\n                        maxLength=\"200\"\n                        autoComplete=\"off\"\n                        required\n                        value={description || ''}\n                        onChange={handleDescriptionChange}\n                    />\n                    <span id=\"job-error\" className='popup__error'></span>\n                </>\n\n            }/>\n    )\n}\n\nexport default EditProfilePopup;"]},"metadata":{},"sourceType":"module"}